<style>
  body {
    margin: 0;
    height: 100vh;
    overflow: hidden;
    font-family: "Hiragino Sans","Meiryo",sans-serif;
    background: #87ceeb;
  }

  .game {
    position: relative;
    width: 100%;
    height: 100%;
    overflow: hidden;
  }

  /* 海エリア（上部背景） */
  .sea-bg {
    position: absolute;
    top: 0; left: 0; right: 0;
    height: 60%; /* 上6割を海に */
    background: url("public/items/bg/sea.png") center/cover no-repeat;
    z-index: 0;
  }

  /* 砂浜エリア（操作対象） */
  .sand-zone {
    position: absolute;
    bottom: 0; left: 0; right: 0;
    height: 40%; /* 下4割が砂 */
    background: linear-gradient(#f5d393 0%, #eac77a 40%, #d9b85f 100%);
    z-index: 1;
    touch-action: none;
    pointer-events: auto;
  }

  .clam {
    position: absolute;
    width: 38px;
    height: 38px;
    background: url("public/assets/items/clam.png") no-repeat center/contain;
    pointer-events: auto;
  }
  .clam.rare {
    background-image: url("public/assets/items/clam_gold.png");
  }
</style>

<body>
  <div class="game" id="game">
    <div class="sea-bg"></div>
    <div class="sand-zone" id="sand"></div>
    <div class="clams" id="clams"></div>
    <!-- キャラやHUDなどは従来どおり -->
  </div>

<script>
  const sand = document.getElementById("sand");
  const clamsLayer = document.getElementById("clams");

  let stroking = false;
  let lastEmit = 0;
  const EMIT_INTERVAL = 80;
  const SPAWN_PROB = 0.25;

  sand.addEventListener("pointerdown", e=>{
    stroking = true;
    sand.setPointerCapture(e.pointerId);
    lastEmit = 0;
  });
  sand.addEventListener("pointerup", ()=> stroking = false);
  sand.addEventListener("pointermove", e=>{
    if(!stroking) return;
    const now = performance.now();
    if(now - lastEmit < EMIT_INTERVAL) return;
    lastEmit = now;
    if(Math.random() < SPAWN_PROB){
      spawnClam(e.clientX, e.clientY);
    }
  });

  function spawnClam(x, y){
    const clam = document.createElement("div");
    clam.className = "clam";
    clam.style.left = (x-19)+"px";
    clam.style.top  = (y-19)+"px";
    clamsLayer.appendChild(clam);

    clam.addEventListener("click", ()=>{
      clam.remove();
      // 貝数カウント処理（省略）
    }, {once:true});
  }
</script>
</body>
